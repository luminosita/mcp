<?xml version="1.0" encoding="UTF-8"?>
<template>
  <metadata>
    <name>Backlog_Story_Template</name>
    <version>1.1</version>
    <source>Section 6.4 of advanced_prompt_engineering_software_docs_code_final.md (lines 1063-1112), enhanced for Context Engineering Framework</source>
    <sdlc_phase>Backlog_Story</sdlc_phase>
    <note>This template is for DETAILED backlog user stories, not high-level stories in PRDs</note>
  </metadata>

  <instructions>
    <guideline>Transform high-level user stories from PRDs into comprehensive, actionable backlog specifications</guideline>
    <guideline>Use standard agile format: "As [role], I want [feature], so that [benefit]"</guideline>
    <guideline>Include acceptance criteria in Given-When-Then (Gherkin) format</guideline>
    <guideline>List functional requirements covered from parent PRD</guideline>
    <guideline>Define non-functional requirements (performance, security, scalability, etc.)</guideline>
    <guideline>List technical requirements covering frontend, backend, database changes</guideline>
    <guideline>Implementation tasks will be tracked in separate TODO.md file in story subfolder</guideline>
    <guideline>Ensure all acceptance criteria are testable</guideline>
  </instructions>

  <structure format="markdown">
    <![CDATA[
**Title:** [Enhanced ticket title]
**Type:** Feature
**Priority:** [High/Medium/Low with brief justification]

## User Story
As [role], I want [feature], so that [benefit].

## Description
[Expanded problem statement or feature description with context and background]

## Related PRD
**PRD ID:** [PRD-XXX]
**High-Level Story:** [US-XX reference from PRD]
**Functional Requirements Covered:** [FR-01, FR-03, ...]

## Functional Requirements
- [User-facing feature 1]
- [User-facing feature 2]
- [Business logic requirement 1]

## Non-Functional Requirements
- **Performance:** [Response time, throughput targets - e.g., P95 < 200ms]
- **Security:** [Auth, encryption, input validation requirements]
- **Scalability:** [Concurrent user targets - e.g., 1000 concurrent users]
- **Reliability:** [Uptime target, error handling - e.g., 99.9% uptime]
- **Accessibility:** [WCAG compliance level - e.g., WCAG 2.1 Level AA]
- **Maintainability:** [Code quality, documentation standards]

## Technical Requirements
- [Frontend task 1]
- [Backend task 1]
- [Database change 1]
- [Additional technical considerations]

**Note:** Detailed implementation tasks with estimates, dependencies, and status tracking are maintained in `TODO.md` file in this story's subfolder.

## Acceptance Criteria
### Scenario 1: [Scenario name]
**Given** [initial context]
**When** [action taken]
**Then** [expected outcome]

### Scenario 2: [Scenario name]
**Given** [initial context]
**When** [action taken]
**Then** [expected outcome]

## Definition of Done
- [ ] Code implemented and reviewed
- [ ] Unit tests written and passing (80% coverage minimum)
- [ ] Integration tests passing
- [ ] Documentation updated
- [ ] Acceptance criteria validated
- [ ] Product owner approval obtained

## Additional Information
**Suggested Labels:** [List of labels, e.g., frontend, backend, user-profile]
**Estimated Story Points:** [Fibonacci: 1, 2, 3, 5, 8, 13]
**Dependencies:** [References to other stories or technical requirements]
**Related PRD Section:** [Link to PRD section]
    ]]>
  </structure>

  <examples>
    <example source="Section 6.4 lines 1075-1077">
      As registered user, I want to be able to upload profile picture so that I can personalize my account.

      Acceptance Criteria:
      - Given I am logged in, When I navigate to profile settings, Then I see an upload button
      - Given I select an image file, When I click upload, Then the image is saved and displayed
    </example>
  </examples>
</template>
